;-------------------------------------------------
;볼개그
;SM-구속계 커맨드
;-------------------------------------------------
@COM132

PRINTL 볼개그
STR:0 = 볼개그
CALL KOJO_MESSAGE_COM


;착탈의 처리
IF TEQUIP:볼개그 == 0
	TEQUIP:볼개그 = 1
ELSE
	TEQUIP:볼개그 = 0
ENDIF


;-------------------------------------------------
;소스 추가 처리
;-------------------------------------------------
;소비체력, 기력
LOSEBASE:체력 += 0
LOSEBASE:기력 += 20

SOURCE:두려움 += 500
;지하실에 있으면두려움의 소스 추가
SIF TEQUIP:지하실
	TIMES SOURCE:두려움, 1.50

SOURCE:노출 += 200
SOURCE:굴복 += 150
SOURCE:일탈 += 100
SOURCE:반발 += 300

;-------------------------------------------------
;특수소스 처리
;-------------------------------------------------
;속박경험가 높으면 소비 감소
IF EXP:속박경험 < EXPLV:3
	TIMES LOSEBASE:체력, 1.00
	TIMES LOSEBASE:기력, 1.00
ELSEIF EXP:속박경험 < EXPLV:4
	TIMES LOSEBASE:체력, 0.90
	TIMES LOSEBASE:기력, 0.90
ELSE
	TIMES LOSEBASE:체력, 0.70
	TIMES LOSEBASE:기력, 0.70
ENDIF

;-------------------------------------------------
;더러움의 처리
;-------------------------------------------------
;촉수가 있는 경우, 입에촉수의 더러움을 추가
SIF TEQUIP:촉수
	CALL COM_STAIN

;-------------------------------------------------
;경험의 처리
;-------------------------------------------------
EXP:속박경험 += 2
PRINTL 속박경험＋2

;의존도 벡터
TFLAG:33 = 3

;의존도 보정치(복종로 1, 예속로 2)
IF TALENT:복종 && ASSIPLAY == 0
	TFLAG:30 += 1
ELSEIF TALENT:예속 && ASSIPLAY == 0
	TFLAG:30 += 2
ENDIF


RETURN 1



;-------------------------------------------------
;장착 계속의 처리
;-------------------------------------------------
@EQUIP_COM132
PRINTL ＜볼개그장비중＞

;-------------------------------------------------
;소스 추가 처리
;-------------------------------------------------
;소비체력, 기력
LOSEBASE:체력 += 0
LOSEBASE:기력 += 30

SOURCE:두려움 += 250
SOURCE:노출 += 150
SOURCE:굴복 += 75
SOURCE:일탈 += 50
SOURCE:반발 += 150

;-------------------------------------------------
;특수소스 처리
;-------------------------------------------------
;속박경험가 높으면 소비 감소
A = 25
IF EXP:속박경험 < EXPLV:3
	TIMES A , 1.00
ELSEIF EXP:속박경험 < EXPLV:4
	TIMES A , 0.90
ELSE
	TIMES A , 0.70
ENDIF
LOSEBASE:기력 += A

;-------------------------------------------------
;경험의 처리
;-------------------------------------------------
EXP:속박경험 += 1
PRINTL 속박경험＋1

RETURN 1

