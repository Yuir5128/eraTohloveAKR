
;--------------------------------------------------
;통칭 관련
;여기에 정리했습니다.
;별명으로 부르게 하거나 함락 소질로 통칭을 변경하고 싶은 캐릭터전용.
;@PNAME_○은 캐릭터의 번호 넣어
;--------------------------------------------------

;텐프레 겸해 호리카와군
@PNAME_99
IF ASSIPLAY
	R = TARGET
	CALL MASTER_SEARCH
	IF N > 0 && M == NO:ASSI
		PRINTFORM %STR:102%
	ELSE
		;카네상
		IF NO:ASSI == 91
			PRINT 카네상
		ELSE
			PRINTFORM %CALLNAME:ASSI%
		ENDIF
	ENDIF
ELSE
	;카네상
	IF NO:MASTER == 91
		PRINT 카네상
	ELSE
		PRINTFORM %CALLNAME:MASTER%
	ENDIF
ENDIF

;부르게 할 때는↓
;
;PRINTFORM 「
;			CALL PNAME_99
;PRINTFORMW ,해냈어!」
;
;↑(와)과 같이하면,본문으로
;「카네상,해냈어!」
;라고 표시됩니다.
;CALL의 전에 탭으로 공백 들어가지고 있는 것은 보기 쉽게하기 위해(때문에)인 것으로 특히 의미 없음.
;CALL PNAME_99의 전의 행을 「PRINTFORML」나 「PRINTFORMW 」로 하면 개행되어 버리므로 주의.


@PNAME_87
IF ASSIPLAY
	R = TARGET
	CALL MASTER_SEARCH
	IF N > 0 && M == NO:ASSI
		PRINTFORM %STR:102%
	ELSE
		;심신자
		IF NO:ASSI == 0
			PRINTFORM 
			CALL PNAME_87_MASTER
		ELSE
			PRINTFORM %CALLNAME:ASSI%
		ENDIF
	ENDIF
ELSE
	;심신자
	IF NO:MASTER == 0
		PRINTFORM 
		CALL PNAME_87_MASTER
	ELSE
		PRINTFORM %CALLNAME:MASTER%
	ENDIF
ENDIF


@PNAME_87_2
PRINTFORML 
PRINTFORML %CALLNAME%에 어떻게 불러 받는지를 선택할 수 있습니다
PRINTFORML [0] 그대
PRINTFORML [1] 너
PRINTFORML [2] 아루지
IF KANRAKU(TARGET)
	PRINTFORML [3] 아루지사마
	PRINTFORML [4] 주인님
	SIF !TALENT:MASTER:남자 && !TALENT:MASTER:반음반양
		PRINTFORML [5] 여왕님
ENDIF
PRINTFORML [6] %CALLNAME:MASTER%
IF KANRAKU(TARGET)
	PRINTFORML [7] %CALLNAME:MASTER%씨
	IF TALENT:MASTER:남자 || TALENT:MASTER:반음반양
		PRINTFORML [8] %CALLNAME:MASTER%군
	ELSE
		PRINTFORML [8] %CALLNAME:MASTER%쨩
	ENDIF
	PRINTFORML [9] %CALLNAME:MASTER%님
ENDIF
$INPUT_LOOP
INPUT
IF RESULT == 0
	CSTR:87 = 그대
	CFLAG:640 = 1
ELSEIF RESULT == 1
	CSTR:87 = 너
	CFLAG:640 = 2
ELSEIF RESULT == 2
	CSTR:87 = 아루지
	CFLAG:640 = 3
ELSEIF RESULT == 3 && KANRAKU(TARGET)
	CSTR:87 = 아루지사마
	CFLAG:640 = 4
ELSEIF RESULT == 4 && KANRAKU(TARGET)
	CSTR:87 = 주인님
	CFLAG:640 = 5
ELSEIF RESULT == 5 && KANRAKU(TARGET)
	CSTR:87 = 여왕님
	CFLAG:640 = 6
ELSEIF RESULT == 6
	CSTR:87 = %CALLNAME:MASTER%
	CFLAG:640 = 0
ELSEIF RESULT == 7 && KANRAKU(TARGET)
	CSTR:87 = %CALLNAME:MASTER%씨
	CFLAG:640 = 7
ELSEIF RESULT == 8 && KANRAKU(TARGET)
	IF TALENT:MASTER:남자 || TALENT:MASTER:반음반양
		CSTR:87 = %CALLNAME:MASTER%군
		CFLAG:640 = 8
	ELSE
		CSTR:87 = %CALLNAME:MASTER%쨩
		CFLAG:640 = 9
	ENDIF
ELSEIF RESULT == 9 && KANRAKU(TARGET)
	CSTR:87 = %CALLNAME:MASTER%님
	CFLAG:640 = 10
ELSE
	GOTO INPUT_LOOP
ENDIF
PRINTFORML %CALLNAME%로부터 %CALLNAME:MASTER%의 통칭을【%CSTR:87%】로 결정했습니다
PRINTFORML 좋습니까?
PRINTFORML [0] 【%CSTR:87%】로 좋다
PRINTFORML [1] 한번 더 생각한다
$INPUT_LOOP5
INPUT
IF RESULT == 0
ELSE
	RESTART
ENDIF

@PNAME_87_MASTER
IF CFLAG:640 == 1
	PRINTFORM 그대
ELSEIF CFLAG:640 == 2
	PRINTFORM 너
ELSEIF CFLAG:640 == 3
	PRINTFORM 아루지
ELSEIF CFLAG:640 == 4
	PRINTFORM 아루지사마
ELSEIF CFLAG:640 == 5
	PRINTFORM 주인님
ELSEIF CFLAG:640 == 6
	PRINTFORM 여왕님
ELSEIF CFLAG:640 == 7
	PRINTFORM %CALLNAME:MASTER%씨
ELSEIF CFLAG:640 == 8
	PRINTFORM %CALLNAME:MASTER%군
ELSEIF CFLAG:640 == 9
	PRINTFORM %CALLNAME:MASTER%쨩
ELSEIF CFLAG:640 == 10
	PRINTFORM %CALLNAME:MASTER%님
ELSE
	PRINTFORM %CALLNAME:MASTER%
ENDIF


;------------------------------
;촛대절씨로부터의 부르는 법
;오오쿠리카라의 부르는 법이라든지,기호가 나뉠 것 같은 것으로
;------------------------------
;오오쿠리카라
@PNAME_73_116
IF ASSIPLAY
	R = TARGET
	CALL MASTER_SEARCH
	IF N > 0 && M == NO:ASSI
		PRINTFORM %STR:102%
	ELSE
		IF NO:ASSI == 116
			;부르게 한 (분)편을 바꾸는 경우는 여기↓와
			PRINT 카라쨩
		ELSE
			PRINTFORM %CALLNAME:ASSI%
		ENDIF
	ENDIF
ELSE
	IF NO:MASTER == 116
		;여기↓를 고쳐 쓰면 안될 것
		PRINT 카라쨩
	ELSE
		PRINTFORM %CALLNAME:MASTER%
	ENDIF
ENDIF

;츠루마루
@PNAME_73_130
IF ASSIPLAY
	R = TARGET
	CALL MASTER_SEARCH
	IF N > 0 && M == NO:ASSI
		PRINTFORM %STR:102%
	ELSE
		IF NO:ASSI == 130
			;부르게 한 (분)편을 바꾸는 경우는 여기↓와
			PRINT 츠루상
		ELSE
			PRINTFORM %CALLNAME:ASSI%
		ENDIF
	ENDIF
ELSE
	IF NO:MASTER == 130
		;여기↓를 고쳐 쓰면 안될 것
		PRINT 츠루상
	ELSE
		PRINTFORM %CALLNAME:MASTER%
	ENDIF
ENDIF


;-------------------------
;우구이스마루로부터의 불리는 방법
;-------------------------

@PNAME_55
IF ASSIPLAY
	R = TARGET
	CALL MASTER_SEARCH
	IF N > 0 && M == NO:ASSI
		PRINTFORM %STR:102%
	ELSE
		;심신자
		IF NO:ASSI == 0
			PRINTFORM 
			CALL PNAME_55_MASTER
		ELSE
			PRINTFORM %CALLNAME:ASSI%
		ENDIF
	ENDIF
ELSE
	;심신자
	IF NO:MASTER == 0
		PRINTFORM 
		CALL PNAME_55_MASTER
	ELSE
		PRINTFORM %CALLNAME:MASTER%
	ENDIF
ENDIF


@PNAME_55_2
PRINTFORML 
PRINTFORML %CALLNAME%에 어떻게 불러 받는지를 선택할 수 있습니다
PRINTFORML [0] 그대
PRINTFORML [1] 너
PRINTFORML [2] 아루지
IF KANRAKU(TARGET)
	PRINTFORML [3] 아루지사마
	PRINTFORML [4] 주인님
	SIF !TALENT:MASTER:남자 && !TALENT:MASTER:반음반양
		PRINTFORML [5] 여왕님
ENDIF
PRINTFORML [6] %CALLNAME:MASTER%
$INPUT_LOOP
INPUT
IF RESULT == 0
	CSTR:55 = 그대
	CFLAG:640 = 1
ELSEIF RESULT == 1
	CSTR:55 = 너
	CFLAG:640 = 2
ELSEIF RESULT == 2
	CSTR:55 = 아루지
	CFLAG:640 = 3
ELSEIF RESULT == 3 && KANRAKU(TARGET)
	CSTR:55 = 아루지사마
	CFLAG:640 = 4
ELSEIF RESULT == 4 && KANRAKU(TARGET)
	CSTR:55 = 주인님
	CFLAG:640 = 5
ELSEIF RESULT == 5 && KANRAKU(TARGET)
	CSTR:55 = 여왕님
	CFLAG:640 = 6
ELSEIF RESULT == 6
	CSTR:55 = %CALLNAME:MASTER%
	CFLAG:640 = 0
ELSE
	GOTO INPUT_LOOP
ENDIF
PRINTFORML %CALLNAME%로부터 %CALLNAME:MASTER%에의 통칭을【%CSTR:55%】로 결정했습니다
PRINTFORML 좋습니까?
PRINTFORML [0] 【%CSTR:55%】로 좋다
PRINTFORML [1] 한번 더 생각한다
$INPUT_LOOP5
INPUT
IF RESULT == 0
ELSE
	RESTART
ENDIF

@PNAME_55_MASTER
IF CFLAG:640 == 1
	PRINTFORM 그대
ELSEIF CFLAG:640 == 2
	PRINTFORM 너
ELSEIF CFLAG:640 == 3
	PRINTFORM 아루지
ELSEIF CFLAG:640 == 4
	PRINTFORM 아루지사마
ELSEIF CFLAG:640 == 5
	PRINTFORM 주인님
ELSEIF CFLAG:640 == 6
	PRINTFORM 여왕님
ELSE
	PRINTFORM %CALLNAME:MASTER%
ENDIF

