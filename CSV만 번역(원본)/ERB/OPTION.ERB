;--------------------------------------------------
;オプション設定処理
;--------------------------------------------------
@OPTION
PRINTL 
PRINTL 
PRINTL 
PRINTL 
PRINTL 設定項目を選択してください

PRINT [  0] - テキスト表示
	IF FLAG:6 == 1 && FLAG:7 == 2
		PRINTL 　　　　　　　【입上テキスト（常に表示）＋情景テキスト】
	ELSEIF FLAG:6 == 1 && FLAG:7 == -1
		PRINTL 　　　　　　　　　　　　　　　　　　【情景テキストのみ】
	ELSEIF FLAG:6 == 0 && FLAG:7 == -1
		PRINTL 　　　　　　　　　　　　　　　　【テキストを表示しない】
	ENDIF
PRINTL 
PRINT [  1] - 사정箇所設定
	IF FLAG:99 == 0
		PRINTL 　　　　　　　　　　　　　　　　　　　　　　　　　【머리카락】
	ELSEIF FLAG:99 == 1
		PRINTL 　　　　　　　　　　　　　　　　　　　　　　　　　【顔】
	ELSEIF FLAG:99 == 2
		PRINTL 　　　　　　　　　　　　　　　　　　　　　　　　　【가슴】
	ELSEIF FLAG:99 == 3
		PRINTL 　　　　　　　　　　　　　　　　　　　　　　　　　【腹】
	ELSEIF FLAG:99 == 4
		PRINTL 　　　　　　　　　　　　　　　　　　　　　　　　　【腋】
	ELSEIF FLAG:99 == 5
		PRINTL 　　　　　　　　　　　　　　　　　　　　　　　【太もも】
	ELSEIF FLAG:99 == 6
		PRINTL 　　　　　　　　　　　　　　　　　　　　　　　【割れ目】
	ELSEIF FLAG:99 == 7
		PRINTL 　　　　　　　　　　　　　　　　　　　　　　　　　【尻】
	ELSEIF FLAG:99 == 8
		PRINTL 　　　　　　　　　　　　　　　　　　　　【そのまま사정】
	ELSEIF FLAG:99 == 9
		PRINTL 　　　　　　　　　　　　　　　　　　　　【その都度選択】
	ENDIF
PRINT [  2] - 着衣初期設定
	IF FLAG:1 == 0
		PRINTL 　　　　　　　　　　　　　　　　　　　　　　　　【全着】
	ELSEIF FLAG:1 == 1
		PRINTL 　　　　　　　　　　　　　　　　　　　　　　　【ノーパン】
	ELSEIF FLAG:1 == 2
		PRINTL 　　　　　　　　　　　　　　　　　　　　　　　【下着姿】
	ELSEIF FLAG:1 == 3
		PRINTL 　　　　　　　　　　　　　　　　　　　　　　　　【全裸】
	ELSEIF FLAG:1 == 5
		PRINTL 　　　　　　　　　　　　　　　　　　　　　　【上半身裸】
	ELSEIF FLAG:1 == 6
		PRINTL 　　　　　　　　　　　　　　　　　　　　　　【下半身裸】
	ELSEIF FLAG:1 == 4
		PRINTL 　　　　　　　　　　　　　　　　　　　　　【前回終了時】
	ELSEIF FLAG:1 == 9
		PRINTL 　　　　　　　　　　　　　　　　　　【特殊（軽装）】
	ELSEIF FLAG:1 == 10
		PRINTL 　　　　　　　　　　　　　　　　　　【特殊（内番衣装）】
	ELSEIF FLAG:1 == 99
		PRINTL 　　　　　　　　　　　　　　　　　　【独自設定】
	ENDIF
PRINT [  3] - ステータス表示設定
	IF (FLAG:26 & 3) == 0
		PRINTL 　　　　　　　　　【ステータス／スケジュール表示】
	ELSEIF (FLAG:26 & 3) == 1
		PRINTL 　　　　　　　　　　　　　　　【スケジュール表示】
	ELSEIF (FLAG:26 & 3) == 2
		PRINTL 　　　　　　　　　　　　　　　　【ステータス表示】
	ELSEIF (FLAG:26 & 3) == 3
		PRINTL 　　　　　　　　　　　　　　　　　　【表示しない】
	ENDIF
PRINT [  4] - キャラ입上
IF !FLAG:97
	PRINTL 　　　　　　　　　　　　　　　　　　　　　　　　【カラー】
ELSE
	PRINTL 　　　　　　　　　　　　　　　　　　　　　【デフォルト色】
ENDIF
PRINT [  5] - 汎用喘ぎ使用設定
IF FLAG:152 == 1
	PRINTL 　　　　　　　　　　　　　　　　　　　【使用しない】
ELSE
	PRINTL 　　　　　　　　　【専用입上の無い場合に使用する】
ENDIF
PRINTL 
;FLAG:2 = ●ビット演算で拡張機能全体に適用する（ことにしたらいじりやすいだろうか）
;		|1  |2  |4  |8  |16 
;		|32 猟奇なコマンド拡張（지하실への扉を開く）
;		|64 
;		|128 デート時노출プレイ拡張
;		|256 남자모유取得可否
PRINT [  6] - 拡張- 猟奇なコマンド
	IF FLAG:2 & 32
		PRINTL 　　　　　　　　　　　　　　　　　　　　【ＯＮ】
	ELSE
		PRINTL 　　　　　　　　　　　　　　　　　　　【ＯＦＦ】
	ENDIF
PRINT [  7] - 拡張- デート時노출プレイ
	IF FLAG:2 & 128
		PRINTL 　　　　　　　　　　　　　　　　　　【ＯＮ】
	ELSE
		PRINTL 　　　　　　　　　　　　　　　　　【ＯＦＦ】
	ENDIF
PRINTL [  8] - 拡張- 労役オプション
PRINT [  9] - 拡張- 남자모유取得可否
	IF FLAG:2 & 256
		PRINTL 　【남자/반음반양/컨트보이も모유체질を取得】
	ELSE
		PRINTL 　　　　　　　　　　　　　【取得しない】
	ENDIF
PRINTL 
PRINTL [ 20] - 個体差設定
PRINTL [ 30] - 消耗品自動補充設定
PRINTL 
PRINTL [ 70] - セーブデータ名変更
PRINTL [ 80] - コマンドフィルタ設定
PRINT [ 90] - PALAM獲得アニメーション設定
	IF FLAG:153 == 0
		PRINTL 　　　　　　　　　　　　　 【使用しない】
	ELSE
		PRINTL 　　　　　　　　　　　　　　 【使用する】
	ENDIF
PRINTL 
PRINTL [100]-戻る
$INPUT_LOOP
INPUT
IF RESULT == 0
	IF FLAG:6 == 1 && FLAG:7 == 2
		FLAG:6 = 1
		FLAG:7 = -1
	ELSEIF FLAG:6 == 1 && FLAG:7 == -1
		FLAG:6 = 0
		FLAG:7 = -1
	ELSE
		FLAG:6 = 1
		FLAG:7 = 2
	ENDIF

ELSEIF RESULT == 1
	CALL SAMENPLACE_SETTING
ELSEIF RESULT == 2
	CALL CLOTHES_SETTING
ELSEIF RESULT == 3
	CALL STATUS_SETTING

ELSEIF RESULT == 4
	IF FLAG:97
		FLAG:97 = 0
	ELSE
		FLAG:97 = 1
	ENDIF
ELSEIF RESULT == 5
	IF FLAG:152 == 1
		FLAG:152 = 0
	ELSE
		FLAG:152 = 1
	ENDIF

ELSEIF RESULT == 6
	IF FLAG:2 & 32
		FLAG:2 -= 32
	ELSE
		FLAG:2 |= 32
	ENDIF
ELSEIF RESULT == 7
	IF FLAG:2 & 128
		FLAG:2 -= 128
	ELSE
		FLAG:2 |= 128
	ENDIF

ELSEIF RESULT == 8
	CALL OPTION_WORK
ELSEIF RESULT == 9
	IF FLAG:2 & 256
		FLAG:2 -= 256
	ELSE
		FLAG:2 |= 256
	ENDIF
ELSEIF RESULT == 20
	CALL SET_DIFFERENCE
ELSEIF RESULT == 30
	CALL SET_ITEM_AUTO_SUPPLY
ELSEIF RESULT == 70
	CALL SET_SAVEDATANAME
ELSEIF RESULT == 80
	CALL COMMAND_CONTROL
ELSEIF RESULT == 90
	IF FLAG:153 == 0
		FLAG:153 = 1
	ELSE
		FLAG:153 = 0
	ENDIF
ELSEIF RESULT == 100
	RETURN 0
ELSE
	CLEARLINE 1
	GOTO INPUT_LOOP
ENDIF
RESTART


;--------------------------------------------------
;사정位置設定
;--------------------------------------------------
@SAMENPLACE_SETTING
PRINTL 사정時に自動で選択する사정箇所を選択してください
PRINTL 
PRINTL [ 0] 「머리카락」
PRINTL [ 1] 「顔」
PRINTL [ 2] 「가슴」
PRINTL [ 3] 「腹」
PRINTL [ 4] 「腋」
PRINTL [ 5] 「太もも」
PRINTL [ 6] 「割れ目」
PRINTL [ 7] 「尻」
PRINTL [ 8] 「そのまま사정」or「콘돔に사정」
PRINTL [ 9] 「その都度選択」
$INPUT_LOOP
INPUT
IF RESULT == 0
	PRINTW ―사정先を머리카락に固定しました―
	FLAG:99 = 0
ELSEIF RESULT == 1
	PRINTW ―사정先を顔に固定しました―
	FLAG:99 = 1
ELSEIF RESULT == 2
	PRINTW ―사정先を가슴に固定しました―
	FLAG:99 = 2
ELSEIF RESULT == 3
	PRINTW ―사정先を腹に固定しました―
	FLAG:99 = 3
ELSEIF RESULT == 4
	PRINTW ―사정先を腋に固定しました―
	FLAG:99 = 4
ELSEIF RESULT == 5
	PRINTW ―사정先を太ももに固定しました―
	FLAG:99 = 5
ELSEIF RESULT == 6
	PRINTW ―사정先を割れ目に固定しました―
	FLAG:99 = 6
ELSEIF RESULT == 7
	PRINTW ―사정先を尻に固定しました―
	FLAG:99 = 7
ELSEIF RESULT == 8
	PRINTW ―選択せずそのまま사정するよう設定しました―
	FLAG:99 = 8
ELSEIF RESULT == 9
	PRINTW ―사정の度に選択するように設定しました―
	FLAG:99 = 9
ELSE
	GOTO INPUT_LOOP
ENDIF




;--------------------------------------------------
;初期着衣設定
;--------------------------------------------------
@CLOTHES_SETTING
Z = 0
PRINTL 初期の着衣を設定してください
PRINTL 調教開始時、常にここで設定した着衣状態から始まるようになります
PRINTL 
PRINTL [  0] - 全着
PRINTL [  1] - ノーパン
PRINTL [  2] - 下着姿
PRINTL [  3] - 全裸
PRINTL [  4] - 上半身裸
PRINTL [  5] - 下半身裸
PRINTL [  8] - 特殊（軽装）
PRINTL [  9] - 特殊（内番衣装）
PRINTL [ 99] - 独自設定
PRINTL [100] - 前回終了時
$INPUT_LOOP
INPUT
IF RESULT == 0
	PRINTW 初期の着衣を全着に設定しました
	FLAG:1 = 0
ELSEIF RESULT == 1
	PRINTW 初期の着衣をノーパンに設定しました
	FLAG:1 = 1
ELSEIF RESULT == 2
	PRINTW 初期の着衣を下着姿に設定しました
	FLAG:1 = 2
ELSEIF RESULT == 3
	PRINTW 初期の着衣を全裸に設定しました
	FLAG:1 = 3
ELSEIF RESULT == 4
	PRINTW 初期の着衣を上半身裸に設定しました
	FLAG:1 = 5
ELSEIF RESULT == 5
	PRINTW 初期の着衣を下半身裸に設定しました
	FLAG:1 = 6
ELSEIF RESULT == 8
	PRINTL 初期の着衣を軽装に設定しました
	PRINTW 軽装を入손していない場合は全着になります
	FLAG:1 = 9
ELSEIF RESULT == 9
	PRINTW 初期の着衣を内番衣装に設定しました
	FLAG:1 = 10
ELSEIF RESULT == 99
	PRINTW 初期の着衣を独自設定に設定しました
	FLAG:1 = 99
ELSEIF RESULT == 100
	PRINTW 初期の着衣を前回終了時の状態に設定しました
	FLAG:1 = 4
ELSE
	GOTO INPUT_LOOP
ENDIF



;--------------------------------------------------
@STATUS_SETTING
;--------------------------------------------------
PRINTL ステータス表示の設定をしてください
PRINTL 
PRINTL [  0] - ステータス/スケジュール表示
PRINTL [  1] - スケジュール表示
PRINTL [  2] - ステータス表示
PRINTL [  3] - 表示しない
PRINTL [100]-戻る
$INPUT_LOOP
INPUT
IF RESULT == 100
	RETURN 0
ELSEIF RESULT == 0
	PRINTL 【ステータス/スケジュール表示】に設定しました
	SIF FLAG:26 & 1
		FLAG:26 -= 1
	SIF FLAG:26 & 2
		FLAG:26 -= 2
ELSEIF RESULT == 1
	PRINTL 【スケジュール表示】に設定しました
	FLAG:26 |= 1
	SIF FLAG:26 & 2
		FLAG:26 -= 2
ELSEIF RESULT == 2
	PRINTL 【ステータス表示】に設定しました
	FLAG:26 |= 2
	SIF FLAG:26 & 1
		FLAG:26 -= 1
ELSEIF RESULT == 3
	PRINTL 【表示しない】に設定しました
		FLAG:26 |= 3
ELSE
	GOTO INPUT_LOOP
ENDIF



;FLAG:2 = ●ビット演算で拡張機能全体に適用する（ことにしたらいじりやすいだろうか）
;		|1  |2  |4  |8  |16 
;		|32 猟奇なコマンド拡張（지하실への扉を開く）
;		|64 
;		|128 デート時노출プレイ拡張

@OPTION_WORK
DRAWLINE
PRINTL 「労役」でお客さんが利用可能なオプションを設定します。
PRINTL 
PRINTL ※オプションは、全ての労役に一括で適用されます。
PRINTL ※以下の労役には、オプションが適用されませんのでご注意下さい。
PRINTL 「定食포장마차（昼/夜の部）」「刀剣雷舞（昼/夜の部）」
PRINTL 「ストリップショー」「拷問ショー」
DRAWLINE
PRINT [ 0] - 처녀貫通
	IF FLAG:160 & 1
		PRINTL 　　　　　　　　　　　○［奴隷のハジメテを貴方に］
	ELSE
		PRINTL 　　　　　　　　　　　ＮＧ！
	ENDIF
PRINT [ 1] - 백버진貫通
	IF FLAG:160 & 2
		PRINTL 　　　　　　○［奴隷のハジメテを貴方に］
	ELSE
		PRINTL 　　　　　　ＮＧ！
	ENDIF
PRINT [ 2] - 동정食い
	IF FLAG:160 & 4
		PRINTL 　　　　　　　　　　　○［奴隷のハジメテを貴方に］
	ELSE
		PRINTL 　　　　　　　　　　　ＮＧ！
	ENDIF
PRINT [ 3] - ハードＳＭ
	IF FLAG:160 & 8
		PRINTL 　　　　　　　　　　○［채찍/촛불/바늘/電극/삼각목마etc］
	ELSE
		PRINTL 　　　　　　　　　　ＮＧ！
	ENDIF
PRINT [ 4] - 複数人プレイ
	IF FLAG:160 & 16
		PRINTL 　　　　　　　　　○［複数ご主人様、他奴隷との絡みもOK］
	ELSE
		PRINTL 　　　　　　　　　ＮＧ！
	ENDIF
PRINT [ 5] - 수간
	IF FLAG:160 & 32
		PRINTL 　　　　　　　　　　　　　○［獣の種類は問いません］
	ELSE
		PRINTL 　　　　　　　　　　　　　ＮＧ！
	ENDIF
PRINT [ 6] - 聖水プレイ
	IF FLAG:160 & 128
		PRINTL 　　　　　　　　　　○［飲尿プレイもＯＫ］
	ELSEIF FLAG:160 & 64
		PRINTL 　　　　　　　　　　△［放尿鑑賞のみ可］
	ELSEIF (FLAG:160 & 192) == 0
		PRINTL 　　　　　　　　　　ＮＧ！
	ENDIF
PRINT [ 7] - 黄金プレイ
	IF FLAG:160 & 512
		PRINTL 　　　　　　　　　　○［食糞プレイもＯＫ］
	ELSEIF FLAG:160 & 256
		PRINTL 　　　　　　　　　　△［관장・鑑賞のみ可］
	ELSEIF (FLAG:160 & 768) == 0
		PRINTL 　　　　　　　　　　ＮＧ！
	ENDIF
PRINTL [50] - 全て有効にする
PRINTL [51] - 全て無効にする
PRINTL [100]-戻る
$INPUT_LOOP
INPUT
IF RESULT == 100
	RETURN 0
;처녀貫通
ELSEIF RESULT == 0
	IF FLAG:160 & 1
		FLAG:160 -= 1
	ELSE
		FLAG:160 |= 1
	ENDIF
;백버진貫通
ELSEIF RESULT == 1
	IF FLAG:160 & 2
		FLAG:160 -= 2
	ELSE
		FLAG:160 |= 2
	ENDIF
;동정食い
ELSEIF RESULT == 2
	IF FLAG:160 & 4
		FLAG:160 -= 4
	ELSE
		FLAG:160 |= 4
	ENDIF
;ハードＳＭ
ELSEIF RESULT == 3
	IF FLAG:160 & 8
		FLAG:160 -= 8
	ELSE
		FLAG:160 |= 8
	ENDIF
;複数人プレイ
ELSEIF RESULT == 4
	IF FLAG:160 & 16
		FLAG:160 -= 16
	ELSE
		FLAG:160 |= 16
	ENDIF
;수간
ELSEIF RESULT == 5
	IF FLAG:160 & 32
		FLAG:160 -= 32
	ELSE
		FLAG:160 |= 32
	ENDIF
;聖水プレイ
ELSEIF RESULT == 6
	IF FLAG:160 & 128
		FLAG:160 -= 128
		FLAG:160 |= 64
	ELSEIF FLAG:160 & 64
		FLAG:160 -= 64
	ELSEIF (FLAG:160 & 192) == 0
		FLAG:160 |= 128
	ENDIF
;黄金プレイ
ELSEIF RESULT == 7
	IF FLAG:160 & 512
		FLAG:160 -= 512
		FLAG:160 |= 256
	ELSEIF FLAG:160 & 256
		FLAG:160 -= 256
	ELSEIF (FLAG:160 & 768) == 0
		FLAG:160 |= 512
	ENDIF
;全て有効にする
ELSEIF RESULT == 50
	FLAG:160 |= 703
;全て無効にする
ELSEIF RESULT == 51
	FLAG:160 = 0
ELSE
	GOTO INPUT_LOOP
ENDIF
RESTART


;FLAG:3 = ▲個体差設定フラグ
;1:CSVの素質優先 |2:性転換 |4:반음반양　후타나리 |8:오메가 |16:ショタ化 |32:大型化 |64:濡れやすさ |128:酒の弱さ
;|256:鈍感　敏感 |512:페니스の大きさ |1024:페니스の特徴 |2048:가슴の大きさ |4096:その他

@SET_DIFFERENCE
PRINTL 
PRINTL キャラの個体差を設定することができます
PRINTL これらの設定することによって、キャラを主人・共犯者・奴隷として引き入れる際
PRINTL 本来なら持たない素質を得て顕現することがあります
DRAWLINE
PRINTL 

IF FLAG:3 & 1
	PRINTBUTTONLC "[0]優先度　CSVの素質を優先する", 0
ELSE
	PRINTBUTTONLC "[0]優先度　個体差を優先する", 0
ENDIF
PRINTL
PRINTL 関連【소인체형/작은체구/큰체구/술꾼/알콜쓰레기/아이사이즈/단소/포경/요리치/요리고수】
PRINTL

IF (FLAG:3 & 2) && (FLAG:3 & 4)
	SETCOLOR 0x6699FF
	PRINTBUTTONLC "[1]性転換　あり（반음반양・후타나리・컨트보이・쉬메일含む）", 1
ELSEIF FLAG:3 & 2
	SETCOLOR 0x6699FF
	PRINTBUTTONLC "[1]性転換　あり", 1
ELSE
	RESETCOLOR
	PRINTBUTTONLC "[1]性転換　なし", 1
ENDIF
RESETCOLOR
PRINTL 
PRINTL 関連【남자/반음반양/후타나리/컨트보이/쉬메일】
PRINTL

IF FLAG:3 & 8
	SETCOLOR 0x6699FF
	PRINTBUTTONLC "[2]오메가性　あり", 2
ELSE
	RESETCOLOR
	PRINTBUTTONLC "[2]오메가性　なし", 2
ENDIF
RESETCOLOR
PRINTL 
PRINTL 関連【오메가】
PRINTL

IF FLAG:3 & 16
	SETCOLOR 0x6699FF
	PRINTBUTTONLC "[3]ショタ化　あり", 3
ELSE
	RESETCOLOR
	PRINTBUTTONLC "[3]ショタ化　なし", 3
ENDIF
RESETCOLOR
PRINTL 
PRINTL 関連【소인체형/작은체구】
PRINTL

IF FLAG:3 & 32
	SETCOLOR 0x6699FF
	PRINTBUTTONLC "[4]大柄化あり", 4
ELSE
	RESETCOLOR
	PRINTBUTTONLC "[4]大柄化　なし", 4
ENDIF
RESETCOLOR
PRINTL 
PRINTL 関連【큰체구】
PRINTL

IF FLAG:3 & 64
	SETCOLOR 0x6699FF
	PRINTBUTTONLC "[5]濡れやすさ　あり", 5
ELSE
	RESETCOLOR
	PRINTBUTTONLC "[5]濡れやすさ　なし", 5
ENDIF
RESETCOLOR
PRINTL 
PRINTL 関連【젖기쉬움/젖기어려움】
PRINTL

IF FLAG:3 & 128
	SETCOLOR 0x6699FF
	PRINTBUTTONLC "[6]酒の弱さ　あり", 6
ELSE
	RESETCOLOR
	PRINTBUTTONLC "[6]酒の弱さ　なし", 6
ENDIF
RESETCOLOR
PRINTL 
PRINTL 関連【술꾼/알콜쓰레기】
PRINTL

IF FLAG:3 & 256
	SETCOLOR 0x6699FF
	PRINTBUTTONLC "[7]部位別特徴　あり", 7
ELSE
	RESETCOLOR
	PRINTBUTTONLC "[7]部位別特徴　なし", 7
ENDIF
RESETCOLOR
PRINTL 
PRINTL 関連【C둔감/C민감/V둔감/V민감/A둔감/A민감/B둔감/B민감/함몰유두】
PRINTL

IF FLAG:3 & 512
	SETCOLOR 0x6699FF
	PRINTBUTTONLC "[8]페니스の大きさ　あり", 8
ELSE
	RESETCOLOR
	PRINTBUTTONLC "[8]페니스の大きさ　なし", 8
ENDIF
RESETCOLOR
PRINTL 
PRINTL 関連【아이사이즈/단소/거근/말자지】
PRINTL

IF FLAG:3 & 1024
	SETCOLOR 0x6699FF
	PRINTBUTTONLC "[9]페니스の特徴　あり", 9
ELSE
	RESETCOLOR
	PRINTBUTTONLC "[9]페니스の特徴　なし", 9
ENDIF
RESETCOLOR
PRINTL 
PRINTL 関連【조루/지루/절륜/포경】
PRINTL

IF FLAG:3 & 2048
	SETCOLOR 0x6699FF
	PRINTBUTTONLC "[10]가슴の大きさ　あり", 10
ELSE
	RESETCOLOR
	PRINTBUTTONLC "[10]가슴の大きさ　なし", 10
ENDIF
RESETCOLOR
PRINTL 
PRINTL 関連【절벽/빈유/거유/폭유】
PRINTL

IF FLAG:3 & 4096
	SETCOLOR 0x6699FF
	PRINTBUTTONLC "[11]その他　あり", 11
ELSE
	RESETCOLOR
	PRINTBUTTONLC "[11]その他　なし", 11
ENDIF
RESETCOLOR
PRINTL 
PRINTL 関連【음모없음/요리치/독약내성/모유체질】
PRINTL

PRINTL 

RESETCOLOR
PRINTL [12]すべてオンにする
PRINTL [13]すべてオフにする
PRINTL [100]戻る
$INPUT_LOOP
INPUT
IF RESULT == 0
	IF FLAG:3 & 1
		FLAG:3 -= 1
	ELSE
		FLAG:3 |= 1
	ENDIF
ELSEIF RESULT == 1
	IF (FLAG:3 & 2 ) && (FLAG:3 & 4)
		FLAG:3 -= 4
	ELSEIF FLAG:3 & 2
		FLAG:3 -= 2
	ELSE
		FLAG:3 |= 2
		FLAG:3 |= 4
	ENDIF
ELSEIF RESULT == 2
	IF FLAG:3 & 8
		FLAG:3 -= 8
	ELSE
		FLAG:3 |= 8
	ENDIF
ELSEIF RESULT == 3
	IF FLAG:3 & 16
		FLAG:3 -= 16
	ELSE
		FLAG:3 |= 16
	ENDIF
ELSEIF RESULT == 4
	IF FLAG:3 & 32
		FLAG:3 -= 32
	ELSE
		FLAG:3 |= 32
	ENDIF
ELSEIF RESULT == 5
	IF FLAG:3 & 64
		FLAG:3 -= 64
	ELSE
		FLAG:3 |= 64
	ENDIF
ELSEIF RESULT == 6
	IF FLAG:3 & 128
		FLAG:3 -= 128
	ELSE
		FLAG:3 |= 128
	ENDIF
ELSEIF RESULT == 7
	IF FLAG:3 & 256
		FLAG:3 -= 256
	ELSE
		FLAG:3 |= 256
	ENDIF
ELSEIF RESULT == 8
	IF FLAG:3 & 512
		FLAG:3 -= 512
	ELSE
		FLAG:3 |= 512
	ENDIF
ELSEIF RESULT == 9
	IF FLAG:3 & 1024
		FLAG:3 -= 1024
	ELSE
		FLAG:3 |= 1024
	ENDIF
ELSEIF RESULT == 10
	IF FLAG:3 & 2048
		FLAG:3 -= 2048
	ELSE
		FLAG:3 |= 2048
	ENDIF
ELSEIF RESULT == 11
	IF FLAG:3 & 4096
		FLAG:3 -= 4096
	ELSE
		FLAG:3 |= 4096
	ENDIF
ELSEIF RESULT == 12
	FLAG:3 = 8190
ELSEIF RESULT == 13
	RESETCOLOR
	FLAG:3 = 0
ELSEIF RESULT == 100
	RETURN 0
ELSE
	GOTO INPUT_LOOP
ENDIF
RESTART

@SET_ITEM_AUTO_SUPPLY
LOCAL:0 = 0
LOCAL:1 = 1
PRINTL
PRINTL 消耗品の所持基準数を設定することができます
PRINTL 基準数に満たないアイテムは自動補充されます。
PRINTL 
PRINTL 所持基準数
PRINTFORML [40]  로션　　　{FLAG:50}個
PRINTFORML [43]  비디오테이프　　{FLAG:51}個　※비디오카메라を所持していない場合は補充されません
PRINTFORML [44]  필름　　　　{FLAG:52}個　※카메라を所持していない場合は補充されません
PRINTFORML [45]  콘돔　　　{FLAG:53}個
PRINTFORML [999] 戻る
$INPUT_LOOP_1
INPUT
SELECTCASE RESULT
	CASE 40,43 TO 45
		LOCAL:0 = RESULT
		PRINTFORML %ITEMNAME:LOCAL%の所持基準数を設定します
		PRINTL 何個にしますか？　※9999を入力で戻る
		$INPUT_LOOP_2
		INPUT
		IF RESULT == 9999
			RESTART
		ELSEIF RESULT
			LOCAL:1 = RESULT
			PRINTFORML {LOCAL:1}個でよいですか？
			PRINTL [0] はい
			PRINTL [1] いいえ
			$INPUT_LOOP_3
			INPUT
			IF RESULT == 0
				PRINTL
				PRINTFORML {LOCAL:1}個に設定しました
				IF LOCAL:0 == 40
					FLAG:(LOCAL:0 + 10) = LOCAL:1
				ELSE
					FLAG:(LOCAL:0 + 8) = LOCAL:1
				ENDIF
				RESTART
			ELSEIF RESULT == 1
				RESTART
			ELSE
				CLEARLINE 1
				GOTO INPUT_LOOP_3
			ENDIF
		
		ELSE
			CLEARLINE 1
			GOTO INPUT_LOOP_2
		ENDIF
		
	CASE 999
		RETURN 0
	CASEELSE
		CLEARLINE 1
		GOTO INPUT_LOOP_1
ENDSELECT

@SET_SAVEDATANAME
PRINTL デフォルトの表示形式から任意の名称に
PRINTL セーブデータの名前を変更することが出来ます
IF STRLENS(SAVESTR:5)
	PRINTFORML 現在の名称は %SAVESTR:5% です
ELSE
	PRINTFORML 現在の名称はデフォルトです
ENDIF
PRINTL 
PRINTL [0] デフォルトにする
PRINTL [1] 任意のセーブデータ名にする
PRINTKL [100] 戻る
$INPUT_LOOP
INPUT
IF RESULT == 0
	PRINTW セーブデータの名前をデフォルトにしました
	SAVESTR:5 = 
	RETURN 0
ELSEIF RESULT == 1
	PRINTL セーブデータの名前を入力してください
	$INPUT_SAVE_NAME
	INPUTS
	LOCALS = %RESULTS%
	PRINTFORML %LOCALS%でよろしいですか？
	PRINTL [0] はい
	PRINTL [1] いいえ
	PRINTL [100] 変更をやめる
	$INPUT_LOOP2
	INPUT
	IF RESULT == 0
		SAVESTR:5 = %LOCALS%
		RETURN 0
	ELSEIF RESULT == 1
		PRINTW では、入力をやり直してください
		GOTO INPUT_SAVE_NAME
	ELSEIF RESULT == 100
		RETURN 0
	ENDIF
	GOTO INPUT_LOOP2
ELSEIF RESULT == 100
	RETURN 0
ELSE
	GOTO INPUT_LOOP
ENDIF
GOTO INPUT_LOOP
