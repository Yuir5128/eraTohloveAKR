;-------------------------------------------------
;가구로한다
;ＳＭ系コマンド
;-------------------------------------------------
@COM150

PRINTL 가구로한다
STR:0 = 가구로한다


;-------------------------------------------------
;実行判定処理
;-------------------------------------------------
;すべての命令に共通の要素を考慮
;(순종が高いと命令に従いやすいなど)
CALL COM_ORDER

;実行判定操作
CALL KOJO_DENIAL_PLUS

;合計を表示(40以上で実行)
PRINT  = 
PRINTV A

V = 40
SIF A < V
	PRINT  < 
SIF A == V
	PRINT  = 
SIF A > V
	PRINT  > 
PRINT 実行値
PRINTV V

;実行不可입上/実行判定操作
SIF A < V
	CALL KOJO_DENIAL

WAIT

;実行できない
SIF A < V
	RETURN 0

CALL KOJO_MESSAGE_COM


;-------------------------------------------------
;ソース追加処理
;-------------------------------------------------
;消費체력、기력
LOSEBASE:체력 += 100
LOSEBASE:기력 += 50

SOURCE:통증 += 1200

SOURCE:두려움 += 500
SOURCE:굴복 += 500
SOURCE:일탈 += 200
SOURCE:반발 += 1000

;-------------------------------------------------
;特殊ソース処理
;-------------------------------------------------
;억압、저항持ちには、억울ソース追加
SIF TALENT:억압 || TALENT:저항
	SOURCE:울굴 += 20

;고통のパラメータによる고통のソース増加は先に処理しておく
IF PALAM:고통 < PALAMLV:1
	TIMES SOURCE:통증 , 1.00
ELSEIF PALAM:고통 < PALAMLV:2
	TIMES SOURCE:통증 , 1.50
ELSEIF PALAM:고통 < PALAMLV:3
	TIMES SOURCE:통증 , 2.00
ELSEIF PALAM:고통 < PALAMLV:4
	TIMES SOURCE:통증 , 2.50
ELSEIF PALAM:고통 >= PALAMLV:4
	TIMES SOURCE:통증 , 3.00
ENDIF


;-------------------------------------------------
;経験の処理
;-------------------------------------------------
;依存度ベクトル
TFLAG:33 = 5

;依存度補正値(복종で1、예속で2）
IF TALENT:복종 && ASSIPLAY == 0
	TFLAG:30 += 1
ELSEIF TALENT:예속 && ASSIPLAY == 0
	TFLAG:30 += 2
ENDIF


RETURN 1



